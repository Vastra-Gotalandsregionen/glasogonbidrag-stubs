<?xml version="1.0" encoding="UTF-8" ?>

<f:view
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:c="http://java.sun.com/jsp/jstl/core"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:bridge="http://liferay.com/faces/bridge"
		xmlns:portlet="http://java.sun.com/portlet_2_0"
		xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
>

	<h:head />
	<h:body>

		<script>
			if(typeof gbJs == 'undefined') {
			  gbJs = {};
			}

			gbJs.topBarHeading = 'Faktura';
		</script>

		<div class="row-fluid">

			<div class="span3">
				<ui:include src="invoice_summary.xhtml" />
				<ui:include src="invoice_grant_rows.xhtml" />
				<ui:include src="invoice_meta.xhtml" />
			</div>

			<div class="span6">

				<h:form id="addGrantForm" pt:data-focus_="true">

					<div class="box box-tight">
						<div class="gb-tabs">
							<ul class="tabs-list">
								<li class="#{registerGrantBackingBean.tabIndexActive == 0 ? 'active' : ''}">
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive != 0}">
										<h:commandLink styleClass="tab" value="Personnummer">
											<f:ajax listener="#{registerGrantBackingBean.tabsListener(0)}" render=":addGrantForm" />
										</h:commandLink>
									</ui:fragment>
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 0}">
										<span class="tab" >Personnummer</span>
									</ui:fragment>
								</li>
								<li class="#{registerGrantBackingBean.tabIndexActive == 1 ? 'active' : ''}">
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive != 1}">
										<h:commandLink styleClass="tab" value="LMA-nummer">
											<f:ajax listener="#{registerGrantBackingBean.tabsListener(1)}" render=":addGrantForm" />
										</h:commandLink>
									</ui:fragment>
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 1}">
										<span class="tab" >LMA-nummer</span>
									</ui:fragment>
								</li>
								<li class="#{registerGrantBackingBean.tabIndexActive == 2 ? 'active' : ''}">
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive != 2}">
										<h:commandLink styleClass="tab" value="Oregistrerade">
											<f:ajax listener="#{registerGrantBackingBean.tabsListener(2)}" render=":addGrantForm" />
										</h:commandLink>
									</ui:fragment>
									<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 2}">
										<span class="tab" >Oregistrerade</span>
									</ui:fragment>
								</li>
							</ul>

							<div class="tabs-content">

								<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 0}">
									<ui:include src="add_grant_personnumber.xhtml" />
								</ui:fragment>

								<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 1}">
									<ui:include src="add_grant_lmanumber.xhtml" />
								</ui:fragment>

								<ui:fragment rendered="#{registerGrantBackingBean.tabIndexActive == 2}">
									<ui:include src="add_grant_unregistered.xhtml" />
								</ui:fragment>

							</div>

						</div>
					</div>
				</h:form>


			</div>

			<div class="span3">
				<ui:include src="beneficiary_history.xhtml" />
			</div>


		</div>

	</h:body>
</f:view>
